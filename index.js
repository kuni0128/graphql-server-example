const { ApolloServer, gql  } = require('apollo-server');

// è¨³æ³¨ï¼šã‚¹ã‚­ãƒ¼ãƒã¨ã¯ã€ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦å®Ÿè¡Œã•ã‚Œã‚‹ã‚¯ã‚¨ãƒªã®ã€Œå½¢ã€ã‚’å®šç¾©ã™ã‚‹å‹å®šç¾©ï¼ˆã¤ã¾ã‚Šã€ŒtypeDefsã€ï¼‰ã®é›†åˆä½“ã§ã™ã€‚
const typeDefs = gql`
  # ã“ã® "Book "ã‚¿ã‚¤ãƒ—ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å†…ã®ã™ã¹ã¦ã®æ›¸ç±ã®ã‚¯ã‚¨ãƒªå¯èƒ½ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚
  type Book {
    title: String
    author: String
  }

  # "Query" å‹ã¯ç‰¹åˆ¥ãªã‚‚ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒå®Ÿè¡Œå¯èƒ½ãªã™ã¹ã¦ã®ã‚¯ã‚¨ãƒªã¨ã€ãã‚Œãã‚Œã®æˆ»ã‚Šå€¤ã®å‹ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚
  # ã“ã®å ´åˆã€"books" ã‚¯ã‚¨ãƒªã¯ 0 ä»¥ä¸Šã® Book (ä¸Šè¨˜ã§å®šç¾©) ã®é…åˆ—ã‚’è¿”ã—ã¾ã™ã€‚
  type Query {
    books: [Book]
  }
`;

const books = [
  {
    title: 'é¬¼æ»…ã®åˆƒ23å·»',
    author: 'å¾å³ å‘¼ä¸–æ™´',
  },
  {
    title: 'é¬¼æ»…ã®åˆƒ22å·»',
    author: 'å¾å³ å‘¼ä¸–æ™´',
  },
  {
    title: 'å¯„ç”Ÿç£10å·»',
    author: 'å²©æ˜å‡',
  },
];

// ãƒªã‚¾ãƒ«ãƒãƒ¼ã¨ã¯ã€ã‚¯ã‚¨ãƒªã¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’ç´ä»˜ã‘ã‚‹ã‚‚ã®ã€‚
const resolvers = {
  Query: {
    books: () => books,
  },
};

const server = new ApolloServer({ typeDefs, resolvers });
server.listen().then(({ url }) => {
  console.log(`ğŸš€  Server ready at ${url}`);
});
